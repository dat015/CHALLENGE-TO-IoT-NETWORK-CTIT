  version: '3.8'

  services:
    
    
    node1:
      image: blockchain-demo
      ports:
        - "5002:8080"
      environment:
        - ASPNETCORE_ENVIRONMENT=Development
        - PINATA_KEY=394b4ed71b4ccc25f1a3
        - PINATA_SECRET=2a871ab2a1fb2cf681086b604dd3675bebd665a84b37fbd1b945144aa4f2720a
        - PINATA_JWT=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySW5mb3JtYXRpb24iOnsiaWQiOiJlODg0NzM5Ny0yZjg2LTQ3YWMtOTIzZC01Y2ZjZTE1ZTUxNjQiLCJlbWFpbCI6ImRhdG5ngXllbjE1MTAwNEBnbWFpbC5jb20iLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwicGluX3BvbGljeSI6eyJyZWdpb25zIjpbeyJkZXNpcmVkUmVwbGljYXRpb25Db3VudCI6MSwiaWQiOiJGUkExIn0seyJkZXNpcmVkUmVwbGljYXRpb25Db3VudCI6MSwiaWQiOiJOWUMxIn1dLCJ2ZXJzaW9uIjoxfSwibWZhX2VuYWJsZWQiOmZhbHNlLCJzdGF0dXMiOiJBQ1RJVkUifSwiYXV0aGVudGljYXRpb25UeXBlIjoic2NvcGVkS2V5Iiwic2NvcGVkS2V5S2V5IjoiMzk0YjRlZDcxYjRjY2MyNWYxYTMiLCJzY29wZWRLZXlTZWNyZXQiOiIyYTg3MWFiMmExZmIyY2Y2ODEwODZiNjA0ZGQzNjc1YmViZDY2NWE4NGIzN2ZiZDFiOTQ1MTQ0YWE0ZjI3MjBhIiwiZXhwIjoxNzc0MzM2MjQ0fQ.Tu6u9vlsQPaBtT3Z3Va_eOsZEp3d223BW8RAiwGGzGE
        - AUTHORITY_PRIVATE_KEY=MIIEogIBAAKCAQEAqFjOHO3Y5RkMpvraSCzQbYrhZsVWewpVTGoUmFlqm4QWX9RAIJ+N1fTTxaobgTnqYm3rckXbj+qKMSERdSCG80b9FjG1HrKMrLxE1z/OH2mwOBHPXDKTd85XcVgbI3EUhPD0cDKp5RR4o0Tu1207IMfJqQ06V+1t0kRyQ9UqpHSfji8IUEUBxNTU0CZClx+rS9mX5+vToHVJMgeV4bm0yvPQ8tornmrIKJjFxqMJ/WnE2o05x+ke9GbgOzPooXBx8nfK+LcEY+1CLKBeu2bqBqypIoq8r0pdydqqkdQq0OUyLdjLnMWClIocixszzCum0zRN0CIaiPQk2FVJqcgMLwIDAQABAoIBABbu5hZ9y5wbXKRgrEdvHMOsytuaYBdp3HMznkj0zAznImR9QHEmmzFS5V3aOF390EaxYlonrGs/Zaz0rBv7HuHZlqpP14nDhAjCAFTHAzg3SG4S9bRsdWIO8M2RgDzvRNQpaPs3LlAf3kv2R4fUVbI3qpVGJopfifmTdnIe12zIojdR8vZQHhCXtbxpt5/Jxj0ZDQhmmgP4ttpxY5BdMsUe9ohu3nCbgB+36EFppMWU3FlnZzsSZ77yHTzRRI24RCgnqTXEFO6+04uuV5iV2xSERl/e9IkOizSPk3GgSt+9YQdkE40dfp+cTFw2s4gTv4cjqMO5AsMakBRrjeUFUEUCgYEA5LtjsrGJfvo6cRb7w/unXTJfojARrfkYsgML8fds9e7Bq0cB282PJCH4L6/JlgDuHz3gBAtZici/SNUmjngXn00wAF9Ov72erWvDdftJ8X2Ng4Qr2tKewshoHi0L4P9LQMmy/JIBvQBq7e04wU3pGx8L1XeN9cAnn7EHG0G9ONUCgYEAvGqKAZKeuukjYG/CzVx+j2KaIi3eAZWGP/h/3ziN3uno7qrQxO/e+rxV/GKtSgxenIAUvVkSPOfQqr3Qj7r5lGVVDqLVMkdzEgbWHW6fOp6PVqqvtpZVqS/ZTsMK51hjNJYtOj7Ik9SQnmYNxZ8sxPDmPWZQvEb/9OmSBn6LsvMCgYAErUAwmyiwi/U98rZbH34gjbMe4dS6teknWqCX5fM4ZBVZpy4GjIFsv7UPZIy+oG49/UnjS0gdZRlkJ9eN+i6hdzaQC2LU0M+5xAZPF0A/y81k7wLmin/sg6R9WXZwt0eWn4klWOboMmX9T2hlq24ku9HGH5ereq5UuY3npMR1sQKBgCJ0GOhQt1XWa/GmfiivUTVHAohdessvXG02M6vN26N3gnCiK6rXch7HcbHFGYsA2AwmH6TANOWOPkn6i7i8qAbKwNL8U5/uEMyrE1wubk95zxw5+geZVfCqH0KXx9amAv4KuBp+gI8Hv6o3Xy1T/gvFQVTY8Mp88TEHxPwLB+ChAoGAecjIJbBBVOL2xbraVGhmYqYugx7nLtmbnv5uZ7+SkTyDXC3W7Lh8mpz+kIdsErSqFSWptFq3hXUFuLrEroSucz9lGsiEj7mhRitlUirvEM206Q0ravdAFP+/ywTqIMXatn22BvxFqNuy1u+qmY4+5k83hfDQ3MsF20xH8hNbR0M=
        - PEER_NODES=["http://node2:8080","http://node3:8080"]
        - NODE_ADDRESS=http://node1:8080
        - AUTHORITY_PUBLIC_KEYS=["MIIBCgKCAQEAqFjOHO3Y5RkMpvraSCzQbYrhZsVWewpVTGoUmFlqm4QWX9RAIJ+N1fTTxaobgTnqYm3rckXbj+qKMSERdSCG80b9FjG1HrKMrLxE1z/OH2mwOBHPXDKTd85XcVgbI3EUhPD0cDKp5RR4o0Tu1207IMfJqQ06V+1t0kRyQ9UqpHSfji8IUEUBxNTU0CZClx+rS9mX5+vToHVJMgeV4bm0yvPQ8tornmrIKJjFxqMJ/WnE2o05x+ke9GbgOzPooXBx8nfK+LcEY+1CLKBeu2bqBqypIoq8r0pdydqqkdQq0OUyLdjLnMWClIocixszzCum0zRN0CIaiPQk2FVJqcgMLwIDAQAB","MIIBCgKCAQEAnEIRYaEDfLRVMbjM8dS30ZJdZI0QL958rzuViKtCi/tP2GsDIPpEAmkt9brI60ESvm6YAhCin4qhCfVHKhlargzxdaVduBnWHLULrYptB9/P9+EwNCYAcNChzjSRp1i0jcMlUSUtb8q96hQPO4K6rrXg05JEAHRzlhdYFh7FQKRDraOGeC3m+oeaTIK643asBnF5VgsOdpu5AVzQb64pqqJ6nUCYhLvVzVT+qldaTm/GTKzdIX7rUKQ8UQUrNvZJuKhWSVKuYVuK6YzAdJquH78r3UhT8xjpWAajx0+n0Uxas6EkVRe8WZxOnTJckwltwbgQQZLApdM71MrO3MxfawIDAQAB","MIIBCgKCAQEAtm7dssIgNCTiOGRKxajev5V7Mp7/FBtcotpiodUYg18fW3AVC1dmlsIVqJbiJ/4aDj2COpuxSHXR5Q5GLB/4Ck/jQwm6SPZlp2hqstAZZEsdyb5FhEy73rRAgCJSkHqIV68Cek+O+VHMtlxi9E/JOINP5FqJCRCvaAwGr8KfU9wL/5qTOr2dEcT4m5l+21EyLkb6btCskfhbaE+/4fy9ChvCAHqscZ20MXjUM5Eqbo1lI7NkI3+E+F7N9EFC7T9uSYmW3Qu41J/dWLd1e6tRrytQ3NK9uSbvjnvvXMPrrwt984eDl6/JMZQHZ9Ny9ZIfTTERCHQ3DaIN/K0Rt+F5mwIDAQAB"]
        - ConnectionStrings__DefaultConnection=Server=workstation id=Blockchain_Db.mssql.somee.com;packet size=4096;user id=tdat015_SQLLogin_1;pwd=f99wo7enzt;data source=Blockchain_Db.mssql.somee.com;persist security info=False;initial catalog=Blockchain_Db;TrustServerCertificate=True
      depends_on:
        - ipfs
      networks:
        - blockchain-network

    node2:
      image: blockchain-demo
      ports:
        - "5003:8080"
      environment:
        - ASPNETCORE_ENVIRONMENT=Development
        - PINATA_KEY=394b4ed71b4ccc25f1a3
        - PINATA_SECRET=2a871ab2a1fb2cf681086b604dd3675bebd665a84b37fbd1b945144aa4f2720a
        - PINATA_JWT=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySW5mb3JtYXRpb24iOnsiaWQiOiJlODg0NzM5Ny0yZjg2LTQ3YWMtOTIzZC01Y2ZjZTE1ZTUxNjQiLCJlbWFpbCI6ImRhdG5ngXllbjE1MTAwNEBnbWFpbC5jb20iLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwicGluX3BvbGljeSI6eyJyZWdpb25zIjpbeyJkZXNpcmVkUmVwbGljYXRpb25Db3VudCI6MSwiaWQiOiJGUkExIn0seyJkZXNpcmVkUmVwbGljYXRpb25Db3VudCI6MSwiaWQiOiJOWUMxIn1dLCJ2ZXJzaW9uIjoxfSwibWZhX2VuYWJsZWQiOmZhbHNlLCJzdGF0dXMiOiJBQ1RJVkUifSwiYXV0aGVudGljYXRpb25UeXBlIjoic2NvcGVkS2V5Iiwic2NvcGVkS2V5S2V5IjoiMzk0YjRlZDcxYjRjY2MyNWYxYTMiLCJzY29wZWRLZXlTZWNyZXQiOiIyYTg3MWFiMmExZmIyY2Y2ODEwODZiNjA0ZGQzNjc1YmViZDY2NWE4NGIzN2ZiZDFiOTQ1MTQ0YWE0ZjI3MjBhIiwiZXhwIjoxNzc0MzM2MjQ0fQ.Tu6u9vlsQPaBtT3Z3Va_eOsZEp3d223BW8RAiwGGzGE
        - AUTHORITY_PRIVATE_KEY=MIIEowIBAAKCAQEAnEIRYaEDfLRVMbjM8dS30ZJdZI0QL958rzuViKtCi/tP2GsDIPpEAmkt9brI60ESvm6YAhCin4qhCfVHKhlargzxdaVduBnWHLULrYptB9/P9+EwNCYAcNChzjSRp1i0jcMlUSUtb8q96hQPO4K6rrXg05JEAHRzlhdYFh7FQKRDraOGeC3m+oeaTIK643asBnF5VgsOdpu5AVzQb64pqqJ6nUCYhLvVzVT+qldaTm/GTKzdIX7rUKQ8UQUrNvZJuKhWSVKuYVuK6YzAdJquH78r3UhT8xjpWAajx0+n0Uxas6EkVRe8WZxOnTJckwltwbgQQZLApdM71MrO3MxfawIDAQABAoIBABnIlRGk/exP3VbtBXRKA2LjYeG7nRYpAi3wCQaaK8rpVw2A6u1AHoS/UkQf5BNdk3g0y4RbtlnZCCWagXmi4WGi5RzigopkSP5HqXujQcZw2eIvGEMimiQDaQ+bgQU6D+DseHXhSpQNwjSjxretJJy7ijOfCPWCQahchb5wqV+2+Spsji9Fbi0HjD6HP9sjjxQUG3K/ilcnzKODxeT9hKrU+bmMtPWtJakGEQ1XjlltFJ1PUe8Je0nntwPd7ifVmbjWnly9JnJq+uejK6vGKk0CJgODPVw7nkxKFOZs2uC2xahqd9qb/rP13A+DXVRBMFk4HDs4s9BtVxe/yGNVzxECgYEAyOcQXb+wGdJFm4pjJ/55KbmRxTrIcMpIEyLKn5POCnV1zw/5al8/uDH72Nthz23z1KXkypkPZJE8bm9lkJcDyNPw1IRUQ0U9USRjduAUdE1D6YMSHR5cJ791CakpSp6OTJ1gdLB+86JiOZsFJtiSU8rHoeaz1t2Z91d95r4o0Y8CgYEAxxyb83XieN7UpJwRsTvucqMoV/NrNol6DOkelfjRW6kJ56s85OSeRJGN1483jNeYuriJsC/RVeatzqYWTMsh9GhIi/bQOlqIoNPuc+KaD+Sm1zdh/RTSGMMftOdUNiXfYLmX8D6qFOWEmq5jQlTZMCkFOp8fIyOG4Ql4prVWLmUCgYATAxrfZFaL+wQvVgdQL5rTwgXzfj6dvebYOMCoHVqwTrFZaQ+Xa3AiREirGwfEk4kxpIlkStvUDpKDePNJnaD0DmqKEgPPYewNk7397/K/lthIbuj17HuYH1w6D9Iih6K7yWDpahJ5h/J3tR3lsTUXzObbgXOfb9U0PQljHrfKLQKBgQDCrRE5mCAHB++mxkVyIWPBSA8w9vnzh7UCnIdgILgpw3vAvCc8sN6hsiKaCRhKJ53XqohM8GPfdjyn2LHjAZVATxnnZzkuZMhDXxM80OjK80fBExBGjy3gMh91E9y9WIgwHSYWKl7HMaVWS30XJLh5oxHOwDeEdr7wlf8WGCScFQKBgBxSTQnLKBRJvcpb/QDjJ7/UKvRJa+Gs7hvqZcIWVLuaYsQj0VxgNucwYKDA/u8yJZcsJoZmVA0ehzqKZwuWURQoB00YUdCZHuyaGXG4urzB8CCG+FMMS9jO3K6lC2uX1u/DB92RwhVTOee9zMQcOAjZGIEVPpsAbv3SwYhO+ZIz
        - PEER_NODES=["http://node1:8080","http://node3:8080"]
        - NODE_ADDRESS=http://node2:8080
        - AUTHORITY_PUBLIC_KEYS=["MIIBCgKCAQEAqFjOHO3Y5RkMpvraSCzQbYrhZsVWewpVTGoUmFlqm4QWX9RAIJ+N1fTTxaobgTnqYm3rckXbj+qKMSERdSCG80b9FjG1HrKMrLxE1z/OH2mwOBHPXDKTd85XcVgbI3EUhPD0cDKp5RR4o0Tu1207IMfJqQ06V+1t0kRyQ9UqpHSfji8IUEUBxNTU0CZClx+rS9mX5+vToHVJMgeV4bm0yvPQ8tornmrIKJjFxqMJ/WnE2o05x+ke9GbgOzPooXBx8nfK+LcEY+1CLKBeu2bqBqypIoq8r0pdydqqkdQq0OUyLdjLnMWClIocixszzCum0zRN0CIaiPQk2FVJqcgMLwIDAQAB","MIIBCgKCAQEAnEIRYaEDfLRVMbjM8dS30ZJdZI0QL958rzuViKtCi/tP2GsDIPpEAmkt9brI60ESvm6YAhCin4qhCfVHKhlargzxdaVduBnWHLULrYptB9/P9+EwNCYAcNChzjSRp1i0jcMlUSUtb8q96hQPO4K6rrXg05JEAHRzlhdYFh7FQKRDraOGeC3m+oeaTIK643asBnF5VgsOdpu5AVzQb64pqqJ6nUCYhLvVzVT+qldaTm/GTKzdIX7rUKQ8UQUrNvZJuKhWSVKuYVuK6YzAdJquH78r3UhT8xjpWAajx0+n0Uxas6EkVRe8WZxOnTJckwltwbgQQZLApdM71MrO3MxfawIDAQAB","MIIBCgKCAQEAtm7dssIgNCTiOGRKxajev5V7Mp7/FBtcotpiodUYg18fW3AVC1dmlsIVqJbiJ/4aDj2COpuxSHXR5Q5GLB/4Ck/jQwm6SPZlp2hqstAZZEsdyb5FhEy73rRAgCJSkHqIV68Cek+O+VHMtlxi9E/JOINP5FqJCRCvaAwGr8KfU9wL/5qTOr2dEcT4m5l+21EyLkb6btCskfhbaE+/4fy9ChvCAHqscZ20MXjUM5Eqbo1lI7NkI3+E+F7N9EFC7T9uSYmW3Qu41J/dWLd1e6tRrytQ3NK9uSbvjnvvXMPrrwt984eDl6/JMZQHZ9Ny9ZIfTTERCHQ3DaIN/K0Rt+F5mwIDAQAB"]
        - ConnectionStrings__DefaultConnection=Server=workstation id=Blockchain_Db.mssql.somee.com;packet size=4096;user id=tdat015_SQLLogin_1;pwd=f99wo7enzt;data source=Blockchain_Db.mssql.somee.com;persist security info=False;initial catalog=Blockchain_Db;TrustServerCertificate=True
      depends_on:
        - ipfs
      networks:
        - blockchain-network

    node3:
      image: blockchain-demo
      ports:
        - "5004:8080"
      environment:
        - ASPNETCORE_ENVIRONMENT=Development
        - PINATA_KEY=394b4ed71b4ccc25f1a3
        - PINATA_SECRET=2a871ab2a1fb2cf681086b604dd3675bebd665a84b37fbd1b945144aa4f2720a
        - PINATA_JWT=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySW5mb3JtYXRpb24iOnsiaWQiOiJlODg0NzM5Ny0yZjg2LTQ3YWMtOTIzZC01Y2ZjZTE1ZTUxNjQiLCJlbWFpbCI6ImRhdG5ngXllbjE1MTAwNEBnbWFpbC5jb20iLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwicGluX3BvbGljeSI6eyJyZWdpb25zIjpbeyJkZXNpcmVkUmVwbGljYXRpb25Db3VudCI6MSwiaWQiOiJGUkExIn0seyJkZXNpcmVkUmVwbGljYXRpb25Db3VudCI6MSwiaWQiOiJOWUMxIn1dLCJ2ZXJzaW9uIjoxfSwibWZhX2VuYWJsZWQiOmZhbHNlLCJzdGF0dXMiOiJBQ1RJVkUifSwiYXV0aGVudGljYXRpb25UeXBlIjoic2NvcGVkS2V5Iiwic2NvcGVkS2V5S2V5IjoiMzk0YjRlZDcxYjRjY2MyNWYxYTMiLCJzY29wZWRLZXlTZWNyZXQiOiIyYTg3MWFiMmExZmIyY2Y2ODEwODZiNjA0ZGQzNjc1YmViZDY2NWE4NGIzN2ZiZDFiOTQ1MTQ0YWE0ZjI3MjBhIiwiZXhwIjoxNzc0MzM2MjQ0fQ.Tu6u9vlsQPaBtT3Z3Va_eOsZEp3d223BW8RAiwGGzGE
        - AUTHORITY_PRIVATE_KEY=MIIEogIBAAKCAQEAtm7dssIgNCTiOGRKxajev5V7Mp7/FBtcotpiodUYg18fW3AVC1dmlsIVqJbiJ/4aDj2COpuxSHXR5Q5GLB/4Ck/jQwm6SPZlp2hqstAZZEsdyb5FhEy73rRAgCJSkHqIV68Cek+O+VHMtlxi9E/JOINP5FqJCRCvaAwGr8KfU9wL/5qTOr2dEcT4m5l+21EyLkb6btCskfhbaE+/4fy9ChvCAHqscZ20MXjUM5Eqbo1lI7NkI3+E+F7N9EFC7T9uSYmW3Qu41J/dWLd1e6tRrytQ3NK9uSbvjnvvXMPrrwt984eDl6/JMZQHZ9Ny9ZIfTTERCHQ3DaIN/K0Rt+F5mwIDAQABAoIBAAbH8C2o0ZGenVoDQFRAhqcQY1fqWQjiS3syKuBhD1wyuPOpIt8dDI8l/7AYi6d45ncJCkIrb1eGKZseALW7KnkXpxbi0a3MmtKyKuUinw7/S8gn7mWQhJsukAczP2ZnZ5H6y1jIhEP4KmfM31C9dnlHSDzwsI9Js3tmlwkJbuqq/w+9SsMkTfmuhhIHNandgK3ttQG6EG8DHDKdX9EFwZzl8FUh1MpYe/uR8p7JRe7He/iBHVU4AtpFbIBAJ3NkkeK7WPdOtlqbqzmyeIXLhJyE7JH4DXM2Ip7ueyQA1urDOmmALLnu7qbltQHvFCyZLaTDdu+x7Zzph6aLEXLBVKECgYEA7/7FM4clgt24Ua2rxcHNlS8NJv2zydydmo7IBLSpu70IHaT37ZzUZDIDaG+SGgv70DaH843AcHBR0i2fFqRV6VdT/BHM5cutTJjE3H5eI0/uTdO2LKJ2WDON3AKXtI/HcL+k2eJoksMcLLY8hNzjelzLAHwYEQ/RUSi1sgPUKf0CgYEAwpljMWqMopyqu+O0lhjC0gWzbBesbA2tpcPtM/083o1waZrCBJezNYJolHapPBjbRr2OCBcTkLfxXmKEx3Ia/NKNfe4rUCnxiDLyyOH5Rr/Ckn6/Tr+39xXf/GRDctrxHfDGr18j1zzT7GL5ErOnQzYP7BCu0nYg96u/C9wdWXcCgYBaNY92cOQ+royr1vXsHY7i9o6hC1fbFpv/DpBMhIQQV1uHmQzAOeTzzIDPbrCiLcL3Xqf3el7NZMq8j/1ui1LnpLWi2CYGcmqvkfTdVHqaF19hzaR6Xo7RVH+MJUVUz36N+NtEMwBPuhsLC2zwG/89bUe45Ow+7Y0mToENarcDGQKBgBfvf/jrDyNNO97iciroHsZwdxI7kzSzNgGmqL11T5BcO1Bx/Z1M/3j8clqYgdZnhEkeNaMfG4P4bBLc8VIK4fDpAQhVTDSPBCtpgN1elieynH8iYeuQv1L/+M31kypEbdXt8LJPdHwb+kEgJ1y6hj9JHgo+PxKZ/xIXqOcPivifAoGACD3WhBzhjzSn/A+6OYvocHYKGHr9E0BoesZIbFxaagGlyr8iVYFT/rActTtEZs64/qsSta9i+Vie5GcMZoRkbIDkVoDZLbW7cK/A8ftp6xGIBBi4KU9UtoAllybOCdt0qzugQVL6rJg/Br12kOIyayP3nYhEJwb1yxCL/cah8mE=
        - PEER_NODES=["http://node1:8080","http://node2:8080"]
        - NODE_ADDRESS=http://node3:8080
        - AUTHORITY_PUBLIC_KEYS=["MIIBCgKCAQEAqFjOHO3Y5RkMpvraSCzQbYrhZsVWewpVTGoUmFlqm4QWX9RAIJ+N1fTTxaobgTnqYm3rckXbj+qKMSERdSCG80b9FjG1HrKMrLxE1z/OH2mwOBHPXDKTd85XcVgbI3EUhPD0cDKp5RR4o0Tu1207IMfJqQ06V+1t0kRyQ9UqpHSfji8IUEUBxNTU0CZClx+rS9mX5+vToHVJMgeV4bm0yvPQ8tornmrIKJjFxqMJ/WnE2o05x+ke9GbgOzPooXBx8nfK+LcEY+1CLKBeu2bqBqypIoq8r0pdydqqkdQq0OUyLdjLnMWClIocixszzCum0zRN0CIaiPQk2FVJqcgMLwIDAQAB","MIIBCgKCAQEAnEIRYaEDfLRVMbjM8dS30ZJdZI0QL958rzuViKtCi/tP2GsDIPpEAmkt9brI60ESvm6YAhCin4qhCfVHKhlargzxdaVduBnWHLULrYptB9/P9+EwNCYAcNChzjSRp1i0jcMlUSUtb8q96hQPO4K6rrXg05JEAHRzlhdYFh7FQKRDraOGeC3m+oeaTIK643asBnF5VgsOdpu5AVzQb64pqqJ6nUCYhLvVzVT+qldaTm/GTKzdIX7rUKQ8UQUrNvZJuKhWSVKuYVuK6YzAdJquH78r3UhT8xjpWAajx0+n0Uxas6EkVRe8WZxOnTJckwltwbgQQZLApdM71MrO3MxfawIDAQAB","MIIBCgKCAQEAtm7dssIgNCTiOGRKxajev5V7Mp7/FBtcotpiodUYg18fW3AVC1dmlsIVqJbiJ/4aDj2COpuxSHXR5Q5GLB/4Ck/jQwm6SPZlp2hqstAZZEsdyb5FhEy73rRAgCJSkHqIV68Cek+O+VHMtlxi9E/JOINP5FqJCRCvaAwGr8KfU9wL/5qTOr2dEcT4m5l+21EyLkb6btCskfhbaE+/4fy9ChvCAHqscZ20MXjUM5Eqbo1lI7NkI3+E+F7N9EFC7T9uSYmW3Qu41J/dWLd1e6tRrytQ3NK9uSbvjnvvXMPrrwt984eDl6/JMZQHZ9Ny9ZIfTTERCHQ3DaIN/K0Rt+F5mwIDAQAB"]
        - ConnectionStrings__DefaultConnection=Server=workstation id=Blockchain_Db.mssql.somee.com;packet size=4096;user id=tdat015_SQLLogin_1;pwd=f99wo7enzt;data source=Blockchain_Db.mssql.somee.com;persist security info=False;initial catalog=Blockchain_Db;TrustServerCertificate=True
      depends_on:
        - ipfs
      networks:
        - blockchain-network

    ipfs:
      image: ipfs/go-ipfs:latest
      ports:
        - "4001:4001"
        - "5001:5001"
        - "8080:8080"
      volumes:
        - ipfs-data:/data/ipfs
      networks:
        - blockchain-network
        #Load Balancer
    nginx:
      image: nginx:latest
      ports:
        - "80:80"  # Cổng chung để nhận request từ bên ngoài
      volumes:
        - ./nginx.conf:/etc/nginx/nginx.conf  # File cấu hình Nginx
      depends_on:
        - node1
        - node2
        - node3
      networks:
        - blockchain-network

  # Định nghĩa volumes ở cấp độ top-level
  volumes:
    sql-data:
    ipfs-data:

  # Định nghĩa networks ở cấp độ top-level
  networks:
    blockchain-network:
      driver: bridge